(this["webpackJsonprhq-web"]=this["webpackJsonprhq-web"]||[]).push([[0],{10:function(e,t){t.createRequestOptions=function(e){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e+" request"})}},t.createRequestOptions=function(e,t){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}}},18:function(e,t,n){},20:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(21),s=n.n(r),c=n(8),o=n(2),i=(n(27),n.p+"static/media/logo_transparent.0891df4c.png"),u=(n(18),n(1));var l=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{src:i,className:"App-logo",alt:"logo"})}),Object(u.jsx)(c.b,{className:"links",to:"/submitOrder",children:Object(u.jsx)("div",{className:"button",children:"Submit an Order"})})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},j=(n(34),n(12)),d=n.n(j),p=n(17),O=n(3),m=function(){var e=(new Date).getFullYear().toString(),t=((new Date).getMonth()+1).toString();return(new Date).getDate().toString()+"/"+t+"/"+e},h=function(e){var t=e.substring(0,4),n=e.substring(4,6),a=parseInt(e.substring(6)),r=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString();if(1===s.length&&(s="0"+s),t===r&&n===s){for(a=(a+=1).toString();a.length<3;)a="0"+a;return t+n+a}return r+s+"001"},f=function(e,t,n,a,r){return e+t+n+a+r},x="https://rhq-backend.herokuapp.com/api",g=["Airpods 1/2","Airpods Pro","12","12/ 12 Pro","12 Pro max","12 Pro","11","11 Pro","11 Pro max","X/XS"],N=["Phone case","Airpods case","Screen protector"],v=["S21","S21 Plus","S21 Ultra","Note 20","Note 20 Ultra"],S=["Phone case","Screen protector"],y=["Selfie ring light","Magnetic car mount stand ring"],k=["Phone accessories"],A=["Azure","Black","White","Red","Pink","Clear","Blue","Gold","NA"],w=["Border","Matt","Ultra thick","Camera cover","NA"],P=n(10),C=(n(20),function(e,t,n){return Object(u.jsx)("div",{className:"radio-row",children:t.map((function(t){var a=e+" "+t;return Object(u.jsxs)("div",{className:"radio-box",children:[Object(u.jsx)("input",{type:"radio",className:"radio-button",name:e,id:a,onClick:function(){return n(t)}}),Object(u.jsx)("label",{htmlFor:a,className:"radio-label",children:t})]},t)}))})});var I=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(O.a)(s,2),i=c[0],l=c[1],b=Object(a.useState)(""),j=Object(O.a)(b,2),I=j[0],T=j[1],q=Object(a.useState)(""),D=Object(O.a)(q,2),R=D[0],$=D[1],F=Object(a.useState)(""),B=Object(O.a)(F,2),E=B[0],G=B[1],J=Object(a.useState)(""),M=Object(O.a)(J,2),Q=M[0],U=M[1],_=Object(a.useState)("1"),W=Object(O.a)(_,2),z=W[0],L=W[1],X=Object(a.useState)("$"),Y=Object(O.a)(X,2),H=Y[0],K=Y[1],V=Object(a.useState)(""),Z=Object(O.a)(V,2),ee=Z[0],te=Z[1],ne=Object(a.useState)("NA"),ae=Object(O.a)(ne,2),re=ae[0],se=ae[1],ce=Object(a.useState)("$"),oe=Object(O.a)(ce,2),ie=oe[0],ue=oe[1],le=Object(a.useState)(!1),be=Object(O.a)(le,2),je=be[0],de=be[1],pe=Object(a.useState)(!1),Oe=Object(O.a)(pe,2),me=Oe[0],he=Oe[1],fe=Object(a.useState)([]),xe=Object(O.a)(fe,2),ge=xe[0],Ne=xe[1],ve=Object(a.useState)([]),Se=Object(O.a)(ve,2),ye=Se[0],ke=Se[1],Ae=Object(a.useState)([]),we=Object(O.a)(Ae,2),Pe=we[0],Ce=we[1],Ie=Object(a.useState)([]),Te=Object(O.a)(Ie,2),qe=Te[0],De=Te[1],Re=Object(a.useState)(""),$e=Object(O.a)(Re,2),Fe=$e[0],Be=$e[1],Ee=Object(a.useState)(!1),Ge=Object(O.a)(Ee,2),Je=Ge[0],Me=Ge[1],Qe=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f(i,I,R,E,Q),n=Object(P.createRequestOptions)("POST",{code:t}),e.next=4,fetch(x+"/inventoryRow",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r.data.row);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(e){Be(e),Me(!0)},_e=function(e){if(!e.startsWith("$"))return!1;try{var t=e.substring(1);if(t.includes(".")){var n=t.split(".");return 2===n.length&&(parseInt(n[0]),parseInt(n[1]),!0)}}catch(a){return!1}},We=function(){var e=Object(p.a)(d.a.mark((function e(){var t,a,r,s,c,o,u,l,b,j,p,O,f,g,N,v,S,y;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de(!0),Me(!1),Be(""),/^[1-9]\d*$/.test(z)){e.next=5;break}return Ue("Invalid quantity!"),e.abrupt("return");case 5:if(K("$"===H?"$0.00":H),ue("$"===ie?"$0.00":ie),_e(H)){e.next=11;break}return Ue("Invalid discount!"),de(!1),e.abrupt("return");case 11:if(_e(ie)){e.next=15;break}return Ue("Invalid tips!"),de(!1),e.abrupt("return");case 15:return e.next=17,Qe();case 17:if(t=e.sent,console.log(t),t>=4){e.next=23;break}return Ue("Item does not exists"),de(!1),e.abrupt("return");case 23:return a=Object(P.createRequestOptions)("POST",{row:t}),e.next=26,fetch(x+"/inventoryQty",a);case 26:return r=e.sent,e.next=29,r.json();case 29:if(s=e.sent,c=s.data,o=parseInt(c.stockIn),u=parseInt(c.stockOut),!(o+u<=0)){e.next=37;break}return Ue("Out of stock for item!"),de(!1),e.abrupt("return");case 37:return l=Object(P.createRequestOptions)("POST",{row:t,newQty:u-1}),e.next=40,fetch(x+"/inventoryUpdateQty",l);case 40:return b=Object(P.createRequestOptions)("GET"),e.next=43,fetch(x+"/orders",b);case 43:return j=e.sent,e.next=46,j.json();case 46:return p=e.sent,O=parseInt(p.data.size),f=p.data.lastInvoiceNumber,g=O+1+1,N=h(f),v=m(),S={row_number:g,customer:n,invoice_number:N,invoice_date:v,category:i,brand:I,detailed:R,color:E,desc:Q,qty:z,discount:H,status:ee,remarks:re,tips:ie},y=Object(P.createRequestOptions)("POST",S),e.next=57,fetch(x+"/order",y);case 57:de(!1),he(!0);case 59:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(e,t){e.startsWith("$")?t(e):t("$")};return me?Object(u.jsx)(o.a,{to:"/orderSubmitted"}):Object(u.jsxs)("div",{className:"form",children:[Object(u.jsx)("span",{className:"form-header",children:"Order Form"}),Object(u.jsx)("span",{className:"form-label",children:"Customer's name"}),Object(u.jsx)("input",{className:"input-box",type:"text",onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Brand"}),C("brand",["Apple","Samsung","NA"],(function(e){switch(console.log("settin brand to "+e),ke(["NA"]),Ne(["NA"]),Ce(A),De(["NA"]),e){case"Apple":Ne(g),ke(N);break;case"Samsung":Ne(v),ke(S);break;case"NA":Ne(y),ke(k)}T(e)})),Object(u.jsx)("span",{className:"form-label",children:"Category"}),C("category",ye,(function(e){Ce("Screen protector"===e?["NA"]:A),De("Phone case"===e?w:["NA"]),l(e)})),Object(u.jsx)("span",{className:"form-label",children:"Detailed"}),C("detailed",ge,$),Object(u.jsx)("span",{className:"form-label",children:"Colour"}),C("color",Pe,G),Object(u.jsx)("span",{className:"form-label",children:"Description"}),C("desc",qe,U),Object(u.jsx)("span",{className:"form-label",children:"Quantity"}),Object(u.jsx)("input",{className:"input-box",type:"number",value:z,onChange:function(e){return L(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Discount"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:H,onChange:function(e){return ze(e.target.value,K)}}),Object(u.jsx)("span",{className:"form-label",children:"Status"}),C("status",["Confirmed","Paid"],te),Object(u.jsx)("span",{className:"form-label",children:"Remarks"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:re,onChange:function(e){return se(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Tips"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:ie,onChange:function(e){return ze(e.target.value,ue)}}),Je?function(e){return Object(u.jsx)("span",{className:"warning-message",children:e})}(Fe):null,""!==n&&""!==I&&""!==i&&""!==R&&""!==E&&""!==Q&&""!==ee&&!1===je?Object(u.jsx)("div",{className:"form-button",onClick:We,children:"Submit Order"}):Object(u.jsx)("div",{className:"form-button-inactive",children:"Submit Order"})]})};var T=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{src:i,className:"submit-order-app-logo",alt:"logo"})}),Object(u.jsx)(I,{})]})})};n(36);var q=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{src:i,className:"App-logo",alt:"logo"})}),Object(u.jsx)("span",{className:"submitted-message",children:"Order submitted!"}),Object(u.jsx)(c.b,{className:"links",to:"/",children:Object(u.jsx)("div",{className:"button",children:"Back to Homepage"})})]})})},D=Object(u.jsx)(c.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",component:l}),Object(u.jsx)(o.b,{path:"/submitOrder",component:T}),Object(u.jsx)(o.b,{path:"/orderSubmitted",component:q})]})});s.a.render(D,document.getElementById("root")),b()}},[[37,1,2]]]);
//# sourceMappingURL=main.93e74b2f.chunk.js.map