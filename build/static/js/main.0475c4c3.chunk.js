(this["webpackJsonprhq-web"]=this["webpackJsonprhq-web"]||[]).push([[0],[,,,function(e,t){t.createRequestOptions=function(e){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e+" request"})}},t.createRequestOptions=function(e,t){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}}},,,,function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(8),c=n.n(s),i=(n(13),n(2)),o=n.p+"static/media/logo_transparent.0891df4c.png",u=n(0),l=function(e){return Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(u.jsx)("div",{className:"button",onClick:function(){return e.navigate("submitOrder")},children:"Submit an Order"})]})},b=(n(15),n(4)),j=n.n(b),d=n(6),p=function(){var e=(new Date).getFullYear().toString(),t=((new Date).getMonth()+1).toString();return(new Date).getDate().toString()+"/"+t+"/"+e},O=function(e){var t=e.substring(0,4),n=e.substring(4,6),a=parseInt(e.substring(6)),r=(new Date).getFullYear().toString(),s=((new Date).getMonth()+1).toString();if(1===s.length&&(s="0"+s),t===r&&n===s){for(a=(a+=1).toString();a.length<3;)a="0"+a;return t+n+a}return r+s+"001"},m=function(e,t,n,a,r){return e+t+n+a+r},f="https://rhq-backend.herokuapp.com/api",h=["Airpods 1/2","Airpods Pro","12","12/ 12 Pro","12 Pro max","12 Pro","11","11 Pro","11 Pro max","X/XS"],x=["Phone case","Airpods case","Screen protector"],g=["S21","S21 Plus","S21 Ultra","Note 20","Note 20 Ultra"],v=["Phone case","Screen protector"],N=["Selfie ring light","Magnetic car mount stand ring"],S=["Phone accessories"],k=["Azure","Black","White","Red","Pink","Clear","Blue","Gold","NA"],y=["Border","Matt","Ultra thick","Camera cover","NA"],w=n(3),A=(n(7),function(e,t,n){return Object(u.jsx)("div",{className:"radio-row",children:t.map((function(t){var a=e+" "+t;return Object(u.jsxs)("div",{className:"radio-box",children:[Object(u.jsx)("input",{type:"radio",className:"radio-button",name:e,id:a,onClick:function(){return n(t)}}),Object(u.jsx)("label",{htmlFor:a,className:"radio-label",children:t})]},t)}))})}),C=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),l=o[0],b=o[1],C=Object(a.useState)(""),P=Object(i.a)(C,2),q=P[0],I=P[1],T=Object(a.useState)(""),R=Object(i.a)(T,2),$=R[0],D=R[1],B=Object(a.useState)(""),M=Object(i.a)(B,2),E=M[0],F=M[1],G=Object(a.useState)(""),J=Object(i.a)(G,2),Q=J[0],U=J[1],_=Object(a.useState)("1"),W=Object(i.a)(_,2),z=W[0],X=W[1],Y=Object(a.useState)("$"),H=Object(i.a)(Y,2),K=H[0],L=H[1],V=Object(a.useState)(""),Z=Object(i.a)(V,2),ee=Z[0],te=Z[1],ne=Object(a.useState)("NA"),ae=Object(i.a)(ne,2),re=ae[0],se=ae[1],ce=Object(a.useState)("$"),ie=Object(i.a)(ce,2),oe=ie[0],ue=ie[1],le=Object(a.useState)(!1),be=Object(i.a)(le,2),je=be[0],de=be[1],pe=Object(a.useState)([]),Oe=Object(i.a)(pe,2),me=Oe[0],fe=Oe[1],he=Object(a.useState)([]),xe=Object(i.a)(he,2),ge=xe[0],ve=xe[1],Ne=Object(a.useState)([]),Se=Object(i.a)(Ne,2),ke=Se[0],ye=Se[1],we=Object(a.useState)([]),Ae=Object(i.a)(we,2),Ce=Ae[0],Pe=Ae[1],qe=Object(a.useState)(""),Ie=Object(i.a)(qe,2),Te=Ie[0],Re=Ie[1],$e=Object(a.useState)(!1),De=Object(i.a)($e,2),Be=De[0],Me=De[1],Ee=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m(l,q,$,E,Q),n=Object(w.createRequestOptions)("POST",{code:t}),e.next=4,fetch(f+"/inventoryRow",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r.data.row);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(e){Re(e),Me(!0)},Ge=function(e){if(!e.startsWith("$"))return!1;try{var t=e.substring(1);if(t.includes(".")){var n=t.split(".");return 2===n.length&&(parseInt(n[0]),parseInt(n[1]),!0)}}catch(a){return!1}},Je=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a,s,c,i,o,u,b,d,m,h,x,g,v,N,S,k,y;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(de(!0),Me(!1),Re(""),/^[1-9]\d*$/.test(z)){t.next=5;break}return Fe("Invalid quantity!"),t.abrupt("return");case 5:if(L("$"===K?"$0.00":K),ue("$"===oe?"$0.00":oe),Ge(K)){t.next=11;break}return Fe("Invalid discount!"),de(!1),t.abrupt("return");case 11:if(Ge(oe)){t.next=15;break}return Fe("Invalid tips!"),de(!1),t.abrupt("return");case 15:return t.next=17,Ee();case 17:if(n=t.sent,console.log(n),n>=4){t.next=23;break}return Fe("Item does not exists"),de(!1),t.abrupt("return");case 23:return a=Object(w.createRequestOptions)("POST",{row:n}),t.next=26,fetch(f+"/inventoryQty",a);case 26:return s=t.sent,t.next=29,s.json();case 29:if(c=t.sent,i=c.data,o=parseInt(i.stockIn),u=parseInt(i.stockOut),!(o+u<=0)){t.next=37;break}return Fe("Out of stock for item!"),de(!1),t.abrupt("return");case 37:return b=Object(w.createRequestOptions)("POST",{row:n,newQty:u-1}),t.next=40,fetch(f+"/inventoryUpdateQty",b);case 40:return d=Object(w.createRequestOptions)("GET"),t.next=43,fetch(f+"/orders",d);case 43:return m=t.sent,t.next=46,m.json();case 46:return h=t.sent,x=parseInt(h.data.size),g=h.data.lastInvoiceNumber,v=x+1+1,N=O(g),S=p(),k={row_number:v,customer:r,invoice_number:N,invoice_date:S,category:l,brand:q,detailed:$,color:E,desc:Q,qty:z,discount:K,status:ee,remarks:re,tips:oe},y=Object(w.createRequestOptions)("POST",k),t.next=57,fetch(f+"/order",y);case 57:de(!1),e.navigate("orderSubmitted");case 59:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Qe=function(e,t){e.startsWith("$")?t(e):t("$")};return Object(u.jsxs)("div",{className:"form",children:[Object(u.jsx)("span",{className:"form-header",children:"Order Form"}),Object(u.jsx)("span",{className:"form-label",children:"Customer's name"}),Object(u.jsx)("input",{className:"input-box",type:"text",onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Brand"}),A("brand",["Apple","Samsung","NA"],(function(e){switch(console.log("settin brand to "+e),ve(["NA"]),fe(["NA"]),ye(k),Pe(["NA"]),e){case"Apple":fe(h),ve(x);break;case"Samsung":fe(g),ve(v);break;case"NA":fe(N),ve(S)}I(e)})),Object(u.jsx)("span",{className:"form-label",children:"Category"}),A("category",ge,(function(e){ye("Screen protector"===e?["NA"]:k),Pe("Phone case"===e?y:["NA"]),b(e)})),Object(u.jsx)("span",{className:"form-label",children:"Detailed"}),A("detailed",me,D),Object(u.jsx)("span",{className:"form-label",children:"Colour"}),A("color",ke,F),Object(u.jsx)("span",{className:"form-label",children:"Description"}),A("desc",Ce,U),Object(u.jsx)("span",{className:"form-label",children:"Quantity"}),Object(u.jsx)("input",{className:"input-box",type:"number",value:z,onChange:function(e){return X(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Discount"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:K,onChange:function(e){return Qe(e.target.value,L)}}),Object(u.jsx)("span",{className:"form-label",children:"Status"}),A("status",["Confirmed","Paid"],te),Object(u.jsx)("span",{className:"form-label",children:"Remarks"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:re,onChange:function(e){return se(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Tips"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:oe,onChange:function(e){return Qe(e.target.value,ue)}}),Be?function(e){return Object(u.jsx)("span",{className:"warning-message",children:e})}(Te):null,""!==r&&""!==q&&""!==l&&""!==$&&""!==E&&""!==Q&&""!==ee&&!1===je?Object(u.jsx)("div",{className:"form-button",onClick:Je,children:"Submit Order"}):Object(u.jsx)("div",{className:"form-button-inactive",children:"Submit Order"})]})},P=function(e){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("img",{src:o,className:"submit-order-app-logo",alt:"logo"})}),Object(u.jsx)(C,{navigate:e.navigate})]})})},q=(n(17),n(18),function(e){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("img",{src:o,className:"submit-order-app-logo",alt:"logo"})}),Object(u.jsx)("span",{className:"submitted-message",children:"Order submitted!"}),Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("div",{className:"button",children:"Back to Homepage"})})]})})});var I=function(){var e=Object(a.useState)(function(){var e=window.location.href.split("/");return e[e.length-1]}()),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(u.jsx)("div",{className:"App",children:function(e){var t=e.split("/");switch(t[t.length-1]){case"":return Object(u.jsx)(l,{navigate:r});case"submitOrder":return Object(u.jsx)(P,{navigate:r});case"orderSubmitted":return Object(u.jsx)(q,{navigate:r});default:return Object(u.jsx)(l,{navigate:r})}}(n)})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.0475c4c3.chunk.js.map