(this["webpackJsonprhq-web"]=this["webpackJsonprhq-web"]||[]).push([[0],{19:function(e,t,n){},21:function(e,t,n){},4:function(e,t){t.createRequestOptions=function(e){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e+" request"})}},t.createRequestOptions=function(e,t){return"GET"!==e&&"POST"!==e?null:{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}}},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),s=n.n(c),i=(n(19),n(2)),o=n.p+"static/media/logo_transparent.0891df4c.png",u=n(0),l=function(e){return Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)("img",{src:o,className:"App-logo",alt:"logo"}),Object(u.jsx)("div",{className:"button",onClick:function(){return e.navigate("submitOrder")},children:"Submit an Order"})]})},b=(n(21),n(5)),j=n.n(b),d=n(7),O=function(){var e=(new Date).getFullYear().toString(),t=((new Date).getMonth()+1).toString();return(new Date).getDate().toString()+"/"+t+"/"+e},p=function(e){var t=e.substring(0,4),n=e.substring(4,6),a=parseInt(e.substring(6)),r=(new Date).getFullYear().toString(),c=((new Date).getMonth()+1).toString();if(1===c.length&&(c="0"+c),t===r&&n===c){for(a=(a+=1).toString();a.length<3;)a="0"+a;return t+n+a}return r+c+"001"},m=function(e,t,n,a,r){return e+t+n+a+r},h="https://rhq-backend.herokuapp.com/api",f=["Airpods 1/2","Airpods Pro","12","12/ 12 Pro","12 Pro max","12 Pro","11","11 Pro","11 Pro max","X/XS"],x=["Phone case","Airpods case","Screen protector"],g=["S21","S21 Plus","S21 Ultra","Note 20","Note 20 Ultra"],v=["Phone case","Screen protector"],N=["Selfie ring light","Magnetic car mount stand ring"],S=["Phone accessories"],y=["Azure","Black","White","Red","Pink","Clear","Blue","Gold","NA"],k=["Border","Matt","Ultra thick","Camera cover","NA"],w=n(4),A=(n(8),function(e,t,n){return Object(u.jsx)("div",{className:"radio-row",children:t.map((function(t){var a=e+" "+t;return Object(u.jsxs)("div",{className:"radio-box",children:[Object(u.jsx)("input",{type:"radio",className:"radio-button",name:e,id:a,onClick:function(){return n(t)}}),Object(u.jsx)("label",{htmlFor:a,className:"radio-label",children:t})]},t)}))})}),C=n(10),P=n(11),q=n(14),I=n(13),T=(n(23),n(12)),D=n.n(T),R=function(e){Object(q.a)(n,e);var t=Object(I.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(u.jsx)(D.a,{type:"Bars",color:"#04AA6D",height:30,width:200})}}]),n}(r.a.Component),$=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],b=o[1],C=Object(a.useState)(""),P=Object(i.a)(C,2),q=P[0],I=P[1],T=Object(a.useState)(""),D=Object(i.a)(T,2),$=D[0],B=D[1],M=Object(a.useState)(""),E=Object(i.a)(M,2),F=E[0],G=E[1],J=Object(a.useState)(""),Q=Object(i.a)(J,2),U=Q[0],_=Q[1],W=Object(a.useState)("1"),z=Object(i.a)(W,2),X=z[0],Y=z[1],H=Object(a.useState)("$0.00"),K=Object(i.a)(H,2),L=K[0],V=K[1],Z=Object(a.useState)(""),ee=Object(i.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)("NA"),re=Object(i.a)(ae,2),ce=re[0],se=re[1],ie=Object(a.useState)("$0.00"),oe=Object(i.a)(ie,2),ue=oe[0],le=oe[1],be=Object(a.useState)(!1),je=Object(i.a)(be,2),de=je[0],Oe=je[1],pe=Object(a.useState)([]),me=Object(i.a)(pe,2),he=me[0],fe=me[1],xe=Object(a.useState)([]),ge=Object(i.a)(xe,2),ve=ge[0],Ne=ge[1],Se=Object(a.useState)([]),ye=Object(i.a)(Se,2),ke=ye[0],we=ye[1],Ae=Object(a.useState)([]),Ce=Object(i.a)(Ae,2),Pe=Ce[0],qe=Ce[1],Ie=Object(a.useState)(""),Te=Object(i.a)(Ie,2),De=Te[0],Re=Te[1],$e=Object(a.useState)(!1),Be=Object(i.a)($e,2),Me=Be[0],Ee=Be[1],Fe=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m(l,q,$,F,U),n=Object(w.createRequestOptions)("POST",{code:t}),e.next=4,fetch(h+"/inventoryRow",n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r.data.row);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(e){Re(e),Ee(!0)},Je=function(e){if(!e.startsWith("$"))return!1;try{var t=e.substring(1);if(t.includes(".")){var n=t.split(".");return 2===n.length&&(parseInt(n[0]),parseInt(n[1]),!0)}}catch(a){return!1}},Qe=function(){var t=Object(d.a)(j.a.mark((function t(){var n,a,c,s,i,o,u,b,d,m,f,x,g,v,N,S,y,k;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Oe(!0),Ee(!1),Re(""),/^[1-9]\d*$/.test(X)){t.next=5;break}return Ge("Invalid quantity!"),t.abrupt("return");case 5:if(V("$"===L?"$0.00":L),le("$"===ue?"$0.00":ue),Je(L)){t.next=11;break}return Ge("Invalid discount!"),Oe(!1),t.abrupt("return");case 11:if(Je(ue)){t.next=15;break}return Ge("Invalid tips!"),Oe(!1),t.abrupt("return");case 15:return t.next=17,Fe();case 17:if(n=t.sent,console.log(n),n>=4){t.next=23;break}return Ge("Item does not exists"),Oe(!1),t.abrupt("return");case 23:return a=Object(w.createRequestOptions)("POST",{row:n}),t.next=26,fetch(h+"/inventoryQty",a);case 26:return c=t.sent,t.next=29,c.json();case 29:if(s=t.sent,i=s.data,o=parseInt(i.stockIn),u=parseInt(i.stockOut),!(o+u<=0)){t.next=37;break}return Ge("Out of stock for item!"),Oe(!1),t.abrupt("return");case 37:return b=Object(w.createRequestOptions)("POST",{row:n,newQty:u-1}),t.next=40,fetch(h+"/inventoryUpdateQty",b);case 40:return d=Object(w.createRequestOptions)("GET"),t.next=43,fetch(h+"/orders",d);case 43:return m=t.sent,t.next=46,m.json();case 46:return f=t.sent,x=parseInt(f.data.size),g=f.data.lastInvoiceNumber,v=x+1+1,N=p(g),S=O(),y={row_number:v,customer:r,invoice_number:N,invoice_date:S,category:l,brand:q,detailed:$,color:F,desc:U,qty:X,discount:L,status:te,remarks:ce,tips:ue},k=Object(w.createRequestOptions)("POST",y),t.next=57,fetch(h+"/order",k);case 57:Oe(!1),e.navigate("orderSubmitted");case 59:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ue=function(e,t){e.startsWith("$")?t(e):t("$")};return Object(u.jsxs)("div",{className:"form",children:[Object(u.jsx)("span",{className:"form-header",children:"Order Form"}),Object(u.jsx)("span",{className:"form-label",children:"Customer's name"}),Object(u.jsx)("input",{className:"input-box",type:"text",onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Brand"}),A("brand",["Apple","Samsung","NA"],(function(e){switch(console.log("settin brand to "+e),Ne(["NA"]),fe(["NA"]),we(y),qe(["NA"]),e){case"Apple":fe(f),Ne(x);break;case"Samsung":fe(g),Ne(v);break;case"NA":fe(N),Ne(S)}I(e)})),Object(u.jsx)("span",{className:"form-label",children:"Category"}),A("category",ve,(function(e){we("Screen protector"===e?["NA"]:y),qe("Phone case"===e?k:["NA"]),b(e)})),Object(u.jsx)("span",{className:"form-label",children:"Detailed"}),A("detailed",he,B),Object(u.jsx)("span",{className:"form-label",children:"Colour"}),A("color",ke,G),Object(u.jsx)("span",{className:"form-label",children:"Description"}),A("desc",Pe,_),Object(u.jsx)("span",{className:"form-label",children:"Quantity"}),Object(u.jsx)("input",{className:"input-box",type:"number",value:X,onChange:function(e){return Y(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Discount"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:L,onChange:function(e){return Ue(e.target.value,V)}}),Object(u.jsx)("span",{className:"form-label",children:"Status"}),A("status",["Confirmed","Paid"],ne),Object(u.jsx)("span",{className:"form-label",children:"Remarks"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:ce,onChange:function(e){return se(e.target.value)}}),Object(u.jsx)("span",{className:"form-label",children:"Tips"}),Object(u.jsx)("input",{className:"input-box",type:"text",value:ue,onChange:function(e){return Ue(e.target.value,le)}}),Me?function(e){return Object(u.jsx)("span",{className:"warning-message",children:e})}(De):null,""!==r&&""!==q&&""!==l&&""!==$&&""!==F&&""!==U&&""!==te&&!1===de?Object(u.jsx)("div",{className:"form-button",onClick:Qe,children:"Submit Order"}):de?Object(u.jsx)(R,{}):Object(u.jsx)("div",{className:"form-button-inactive",children:"Submit Order"})]})},B=function(e){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("img",{src:o,className:"submit-order-app-logo",alt:"logo"})}),Object(u.jsx)($,{navigate:e.navigate})]})})},M=(n(44),n(45),function(e){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("img",{src:o,className:"submit-order-app-logo",alt:"logo"})}),Object(u.jsx)("span",{className:"submitted-message",children:"Order submitted!"}),Object(u.jsx)("div",{onClick:function(){return e.navigate("")},children:Object(u.jsx)("div",{className:"button",children:"Back to Homepage"})})]})})});var E=function(){var e=Object(a.useState)(function(){var e=window.location.href.split("/");return e[e.length-1]}()),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(u.jsx)("div",{className:"App",children:function(e){var t=e.split("/");switch(t[t.length-1]){case"":return Object(u.jsx)(l,{navigate:r});case"submitOrder":return Object(u.jsx)(B,{navigate:r});case"orderSubmitted":return Object(u.jsx)(M,{navigate:r});default:return Object(u.jsx)(l,{navigate:r})}}(n)})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[46,1,2]]]);
//# sourceMappingURL=main.9a709891.chunk.js.map